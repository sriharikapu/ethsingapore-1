<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sample Site</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <style>
        body { padding-top:50px; }
    </style>
</head>
<body>

    <div class="container">
        <div class="jumbotron">
            <h1 id="numb"></h1>
            <h1 id="blockHash"></h1>
        </div>
        <p id= "blockData"> </p>
    </div>

  <script>
    getApi()
    var myTimer = setInterval(getApi, 20000)

    function getApi() {
      fetch('http://localhost:3000/getBlockNumber').then(function(response) {
          return response.json();
        })
        .then(function(myJson) {
          document.getElementById("numb").innerHTML = "Block Number: " + myJson
          console.log("Updated")
          addHash(myJson)
      })
    }
    function addHash(number) {
      fetch('http://localhost:3000/getBlockByNumber?number='+number).then(function(response){
        return response.json();
      }).then(function (myJson) {
        document.getElementById("blockHash").innerHTML = "Block Hash: " + myJson.blockhash
        document.getElementById("blockData").innerHTML = "Block Data: " + myJson.stringify()
        console.log("Block Added")
      })
    }
  </script>
</body>
</html>
